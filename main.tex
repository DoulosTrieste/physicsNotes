\documentclass[a4paper,10pt]{article}

\usepackage[margin=2cm]{geometry}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{subfiles}
\usepackage{tcolorbox}
\usepackage{siunitx}
\usepackage{circuitikz}
\usepackage{pgfplots}
\usepackage{cancel}
\usepackage{xifthen}
\usepackage{float}
\usepackage{xcolor}
\usepackage{multicol}
\usepackage{unicode-math}
\usepackage{tabularx}

\setmainfont{STIX Two Text}
\setmathfont{STIX Two Math}

\tcbuselibrary{skins}
\tcbuselibrary{breakable}

\pgfplotsset{width=\linewidth,compat=1.5.1}
\usetikzlibrary{arrows}

\title{Physics Notes}
\author{Ng Kang Zhe}

\setlength{\parindent}{0em}

\newtcolorbox{preamb}{
	breakable=true,
	top = 0.5mm, bottom = 0.5mm,
	left = 0.5mm, right = 0.5mm,
	colback = white,
	title=Preamble,
}

\newtcolorbox[auto counter,number within=section]{physdef}[2][]{
	sharp corners=all,
	breakable=true,
	top = 0.5mm, bottom = 0.5mm,
	left = 0.5mm, right = 0.5mm,
	colback = white,
	title=Definition~\thetcbcounter: #2,
	#1,
}

\newcommand\pdef[2]{\begin{physdef}{#1} #2 \end{physdef}}

\newtcolorbox[auto counter,number within=section]{physeqn}[2][]{
	sharp corners=all,
	breakable=true,
	top = 0.5mm, bottom = 0.5mm,
	left = 0.5mm, right = 0.5mm,
	colback = white,
	title=Equation~\thetcbcounter: #2,
	#1,
}

\newcommand\peqn[4][]{
	\begin{physeqn}{#2}
		#3
		\begin{equation*}
		\ifthenelse{\equal{#1}{}}{}{\begin{#1}}
		#4
		\ifthenelse{\equal{#1}{}}{}{\end{#1}}
		\end{equation*}
		
	\end{physeqn}
}

\newcommand{\slopeTriangle}[5]
{
	% #1. Relative offset in x direction.
	% #2. Width in x direction, so xA-xB.
	% #3. Relative offset in y direction.
	% #4. Slope dydx.
	% #5. Plot options.
	
	\pgfplotsextra
	{
		\pgfkeysgetvalue{/pgfplots/xmin}{\xmin}
		\pgfkeysgetvalue{/pgfplots/xmax}{\xmax}
		\pgfkeysgetvalue{/pgfplots/ymin}{\ymin}
		\pgfkeysgetvalue{/pgfplots/ymax}{\ymax} 
		
		% Calculate auxilliary quantities.
		\pgfmathsetmacro{\xA}{\xmin+(#1+#2)*(\xmax-\xmin)}
		\pgfmathsetmacro{\yA}{\ymin+#3*(\ymax-\ymin)}
		\pgfmathsetmacro{\xB}{\xmin+#1*(\xmax-\xmin)}
		\pgfmathsetmacro{\yB}{\yA}
		\pgfmathsetmacro{\xC}{\xA}
		\pgfmathsetmacro{\yC}{\yA+(\xA-\xB)*#4}
		
		% Define coordinates for \draw.
		\coordinate (A) at (axis cs:\xA,\yA);
		\coordinate (B) at (axis cs:\xB,\yB);
		\coordinate (C) at (axis cs:\xC,\yC);
		
		% Draw slope triangle.
		\draw[#5]   (A)-- node[pos=0.5,anchor=north] {1}
		(B)-- 
		(C)-- node[pos=0.5,anchor=west] {#4}
		cycle;
	}
}

\begin{document}

\maketitle

\begin{abstract}
	These notes are written by myself, which means they are prone to typos and errors. If you find an error, do contact me so I can take remedial action, or give you access to the Github repository for you to push any changes.
	
	Use these notes with caution.
\end{abstract}

\newpage

\begin{multicols*}{2}
\subfile{content/chapter1}
\subfile{content/chapter2}
\subfile{content/chapter3}
\subfile{content/chapter4}
\subfile{content/chapter5}
\subfile{content/chapter6}
\end{multicols*}

\end{document}
